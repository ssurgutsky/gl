webpackJsonp([1],{"/4Dj":function(e,i){},"03v1":function(e,i){},"2T6O":function(e,i){},"4Dvg":function(e,i){e.exports="data:application/octet-stream;base64,dGhpcy5tYWluX3VybD0naHR0cHM6Ly9zc3VyZ3V0c2t5LmdpdGh1Yi5pbyc7DQonJzs="},"4GjL":function(e,i,t){e.exports=t.p+"static/img/logo.a369349.jpg"},"4fiY":function(e,i,t){"use strict";i.a={GAME_VERSION:4,CACHE_ENABLED:!0,GAME_VERSION_VAR_NAME:"game_version",GAME_UPGRADE_POINT:"GAME_UPGRADEPOINT",GAME_SAVE_POINT:"GAME_SAVEPOINT",DEFAULT_LOAD_MARK_NAME:"START",INDEXEDDB_STORE_NAME:"store_gl",GP_PRODUCT1_NAME:"com.skystairgames.gl.coin1",GP_PRODUCT2_NAME:"com.skystairgames.gl.episodes",ENABLE_SAVE_BUTTON:!0,ENABLE_LOAD_BUTTON:!0,ENABLE_SKIP_BUTTON:!0,ENABLE_EPISODES_BUTTON:!1,ENABLE_BACK_BUTTON:!1,ENABLE_DONATE_BUTTON:!0,ENABLE_SPEECH:!1}},"4xAV":function(e,i){},"5tgm":function(e,i){},"6u/R":function(e,i,t){e.exports=t.p+"static/media/pb2.10b98bc.mp4"},"6vp8":function(e,i,t){e.exports=t.p+"static/media/taxoman.91b5a1f.mp4"},"7WMJ":function(e,i,t){e.exports=t.p+"static/media/voenkomat.8200ca8.mp4"},"8N5C":function(e,i,t){e.exports=t.p+"static/media/fridge.6449ce5.mp4"},"9naN":function(e,i,t){e.exports=t.p+"static/media/gl_p2.93e2f22.mp4"},"9w6p":function(e,i,t){var o={"./data/scenario.json":"jvff","./images/black.jpg":"QFTt","./images/donate.png":"fu6K","./images/logo.jpg":"4GjL","./scripts/init.qsp":"4Dvg","./video/alco.mp4":"zlCx","./video/fridge.mp4":"8N5C","./video/gl_p1.mp4":"Sm4Z","./video/gl_p2.mp4":"9naN","./video/pb2.mp4":"6u/R","./video/sg.mp4":"E+vs","./video/sg1.mp4":"Ab/g","./video/sg16.mp4":"pQv2","./video/sg2.mp4":"Smt9","./video/sg3.mp4":"PDp4","./video/sg4.mp4":"IiMc","./video/sg5.mp4":"Y1r8","./video/sg666.mp4":"ZR56","./video/taxoman.mp4":"6vp8","./video/voenkomat.mp4":"7WMJ"};function n(e){return t(s(e))}function s(e){var i=o[e];if(!(i+1))throw new Error("Cannot find module '"+e+"'.");return i}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="9w6p"},"Ab/g":function(e,i,t){e.exports=t.p+"static/media/sg1.2f6fb8e.mp4"},"E+vs":function(e,i,t){e.exports=t.p+"static/media/sg.40ff710.mp4"},HbOr:function(e,i){},IiMc:function(e,i,t){e.exports=t.p+"static/media/sg4.93fd3d2.mp4"},NHnr:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("7+uW"),n={render:function(){var e=this.$createElement,i=this._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var s=t("VU/8")({name:"App"},n,!1,function(e){t("s347")},null,null).exports,a=t("/ocq"),r=t("b3CK"),c=t("2QDH"),A=t.n(c),u=t("//Fk"),K=t.n(u),d={showImages:function(e,i,t,o){var n=this;return o&&(console.log("isClearCtx",!0),t.clearRect(0,0,i.width,i.height)),new K.a(function(o,s){if(e&&""!==e){var a=e.split("&").map(function(e){var i={},t=e.split("|");t[0]&&(i.name=t[0],i.path=n.getImageSrc(i.name));var o=null;if(t[1]){o={};var s=t[1].split(";");o.posX=s[0]||0,o.posY=s[1]||0,o.scaleX=s[2]||1,o.scaleY=s[3]||1,o.rotation=s[4]||0,o.alpha=s[5]||1,i.params=o}return i});n.loadAndDrawImageItems(a,i,t).then(function(){o()}).catch(function(e){s(e)})}else o()})},getImageSrc:function(e){var i=r.a.getAssetByName(r.a.CATEGORY_IMAGES,e);return i||(e.indexOf(".jpg")<=0&&e.indexOf(".png")<=0&&e.indexOf(".gif")<=0&&(e+=".jpg"),this.getImagePathByName(e))},getImagePathByName:function(e){return t("g2Y0")("./"+e)},loadAndDrawImageItems:function(e,i,t){var o=this;return new K.a(function(n,s){K.a.all(e.map(function(e){return o.loadImageByItem(e)})).then(function(e){e.forEach(function(e){o.drawImageCustom(i,t,e.image,e.params),n()})}).catch(function(e){console.error(e),s(e)})})},loadImageByItem:function(e){return new K.a(function(i,t){var o=new Image;o.addEventListener("load",function(){e.image=o,i(e)}),o.addEventListener("error",function(e){t(e)}),o.src=e.path})},drawImageCustom:function(e,i,t,o){var n=(o=o||{}).posX||0,s=o.posY||0,a=t.width*Math.abs(o.scaleX||1),r=t.height*Math.abs(o.scaleY||1),c=Math.PI/180*(o.rotation||0),u=o.alpha||1;i.save(),i.translate(n,s),i.rotate(c),i.scale(A()(o.scaleX||1),A()(o.scaleY||1)),i.globalAlpha=u,i.drawImage(t,0,0,a,r),i.restore()},getObjectFitSize:function(e){var i=window.getComputedStyle(e),t=i.getPropertyValue("object-fit"),o={};o.width=e.width,o.height=e.height;var n=i.getPropertyValue("object-position").split(" "),s=parseInt(n[0])/100,a=parseInt(n[1])/100,r=e.naturalWidth/e.naturalHeight,c=e.width/e.height;return"none"===t?(o.sourceWidth=e.width,o.sourceHeight=e.height,o.sourceX=(e.naturalWidth-e.width)*s,o.sourceY=(e.naturalHeight-e.height)*a,o.destinationWidthPercentage=1,o.destinationHeightPercentage=1,o.destinationXPercentage=0,o.destinationYPercentage=0):"contain"===t||"scale-down"===t?(o.sourceWidth=e.naturalWidth,o.sourceHeight=e.naturalHeight,o.sourceX=0,o.sourceY=0,r>c?(o.destinationWidthPercentage=1,o.destinationHeightPercentage=e.naturalHeight/e.height/(e.naturalWidth/e.width),o.destinationXPercentage=0,o.destinationYPercentage=(1-o.destinationHeightPercentage)*a):(o.destinationWidthPercentage=e.naturalWidth/e.width/(e.naturalHeight/e.height),o.destinationHeightPercentage=1,o.destinationXPercentage=(1-o.destinationWidthPercentage)*s,o.destinationYPercentage=0)):"cover"===t?(r>c?(o.sourceWidth=e.naturalHeight*c,o.sourceHeight=e.naturalHeight,o.sourceX=(e.naturalWidth-o.sourceWidth)*s,o.sourceY=0):(o.sourceWidth=e.naturalWidth,o.sourceHeight=e.naturalWidth/c,o.sourceX=0,o.sourceY=(e.naturalHeight-o.sourceHeight)*a),o.destinationWidthPercentage=1,o.destinationHeightPercentage=1,o.destinationXPercentage=0,o.destinationYPercentage=0):("fill"!==t&&console.error("unexpected 'object-fit' attribute with value '"+t+"' relative to"),o.sourceWidth=e.naturalWidth,o.sourceHeight=e.naturalHeight,o.sourceX=0,o.sourceY=0,o.destinationWidthPercentage=1,o.destinationHeightPercentage=1,o.destinationXPercentage=0,o.destinationYPercentage=0),o}},l={name:"BgPicturePlayer",data:function(){return{bgPicturePlayer:null,currentImages:"",prevImages:""}},mounted:function(){this.bgPicturePlayer||this.initialize()},methods:{initialize:function(){this.bgPicturePlayer=this.$refs.bgPicturePlayer},showBgPictures:function(e){var i=this;this.prevImages=this.currentImages,this.currentImages=e;var t=document.getElementById("bgcanvasHidden"),o=t.getContext("2d");d.showImages(e,t,o,!0).finally(function(){i.copyHiddenToVisibleCanvas()})},copyHiddenToVisibleCanvas:function(){var e=document.getElementById("bgcanvas"),i=document.getElementById("bgcanvasHidden"),t=e.getContext("2d");this.prevImages!==this.currentImages&&t.clearRect(0,0,e.width,e.height),t.drawImage(i,0,0)}}},g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,i=this._self._c||e;return i("div",[i("canvas",{staticStyle:{width:"100%",height:"100%","object-fit":"contain"},attrs:{id:"bgcanvas",width:"640px",height:"480px"}}),this._v(" "),i("canvas",{staticStyle:{visibility:"hidden"},attrs:{id:"bgcanvasHidden",width:"640px",height:"480px"}})])}]};var h=t("VU/8")(l,g,!1,function(e){t("5tgm")},"data-v-667edfce",null).exports,m=t("4fiY"),p={name:"VideoPlayer",data:function(){return{isFirstRun:!0,videoPlayer1:null,videoPlayer2:null,currentVideoPlayer:null,currentPlayerNo:1,currentVideoName:"",loop:!1,styleObject1:{position:"absolute",display:"none",top:0,left:0,width:"100%",height:"100%","z-index":1},styleObject2:{position:"absolute",display:"none",top:0,left:0,width:"100%",height:"100%","z-index":2}}},mounted:function(){this.videoPlayer1||this.initialize()},methods:{initialize:function(){this.videoPlayer1=this.$refs.videoPlayer1,this.videoPlayer2=this.$refs.videoPlayer2},playVideo:function(e,i){if(console.log(e),this.currentVideoName=e,"NONE"===e.toUpperCase())return this.styleObject1.display="none",this.videoPlayer1.src="",this.styleObject2.display="none",void(this.videoPlayer2.src="");(1===this.currentPlayerNo||this.isFirstRun)&&(this.videoPlayer1.loop=i,this.videoPlayer1.src=this.getVideoSrc(e),this.videoPlayer1.load()),(2===this.currentPlayerNo||this.isFirstRun)&&(this.videoPlayer2.loop=i,this.videoPlayer2.src=this.getVideoSrc(e),this.videoPlayer2.load())},getVideoSrc:function(e){var i=r.a.getAssetByName(r.a.CATEGORY_VIDEO,e);return m.a.CACHE_ENABLED&&i?i:this.getVideoPathByName(e)},getVideoPathByName:function(e){var i=e;return i.indexOf(".")<0&&(i+=".mp4"),t("X9qF")("./"+i)},stopVideo:function(){1===this.currentPlayerNo&&this.videoPlayer1.pause(),2===this.currentPlayerNo&&this.videoPlayer2.pause()},onCanPlay:function(e){var i=this;(1===this.currentPlayerNo||this.isFirstRun)&&setTimeout(function(){i.videoPlayer1.play()},10),(2===this.currentPlayerNo||this.isFirstRun)&&setTimeout(function(){i.videoPlayer2.play()},10),this.switchVideoPlayer(),this.isFirstRun=!1},switchVideoPlayer:function(){1===this.currentPlayerNo&&(this.styleObject1.display="block",this.styleObject2.display="block",this.videoPlayer2.pause(),this.styleObject2.width=0,this.styleObject2.height=0,this.styleObject1.width="100%",this.styleObject1.height="100%",this.currentVideoPlayer=this.videoPlayer1),2===this.currentPlayerNo&&(this.styleObject2.display="block",this.styleObject1.display="block",this.videoPlayer1.pause(),this.styleObject1.width=0,this.styleObject1.height=0,this.styleObject2.width="100%",this.styleObject2.height="100%",this.currentVideoPlayer=this.videoPlayer2),this.currentPlayerNo=3-this.currentPlayerNo},onEnd:function(){this.$emit("videoEnded",this.currentVideoName)}}},C={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("video",{ref:"videoPlayer1",style:e.styleObject1,attrs:{playsinline:"",autoplay:"",loop:e.loop},on:{canplay:e.onCanPlay,ended:e.onEnd}}),e._v(" "),t("video",{ref:"videoPlayer2",style:e.styleObject2,attrs:{playsinline:"",autoplay:"",loop:e.loop},on:{canplay:e.onCanPlay,ended:e.onEnd}})])},staticRenderFns:[]};var f=t("VU/8")(p,C,!1,function(e){t("/4Dj")},"data-v-17536eda",null).exports,E={name:"BgndImagePlayer",data:function(){return{imagePlayer:null,currentImages:""}},mounted:function(){this.imagePlayer||this.initialize()},methods:{initialize:function(){this.imagePlayer=this.$refs.imagePlayer},showImages:function(e){var i=this;if(e&&""!==e){this.currentImages=e;var t=document.getElementById("bgndcanvasHidden"),o=t.getContext("2d");d.showImages(e,t,o,!0).finally(function(){i.copyHiddenToVisibleCanvas()})}},copyHiddenToVisibleCanvas:function(){var e=document.getElementById("bgndcanvas"),i=document.getElementById("bgndcanvasHidden");e.getContext("2d").drawImage(i,0,0)},clearImages:function(){var e=document.getElementById("bgndcanvas");e.getContext("2d").clearRect(0,0,e.width,e.height),this.currentImages=""}}},v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,i=this._self._c||e;return i("div",[i("canvas",{staticStyle:{width:"100%",height:"100%","object-fit":"contain"},attrs:{id:"bgndcanvas",width:"640px",height:"480px"}}),this._v(" "),i("canvas",{staticStyle:{visibility:"hidden"},attrs:{id:"bgndcanvasHidden",width:"640px",height:"480px"}})])}]};var y=t("VU/8")(E,v,!1,function(e){t("Vm1E")},"data-v-f564314e",null).exports,_={name:"ImagePlayer",data:function(){return{imagePlayer:null,currentImages:""}},mounted:function(){this.imagePlayer||this.initialize()},methods:{initialize:function(){this.imagePlayer=this.$refs.imagePlayer},showImages:function(e){var i=this;if(e&&""!==e){this.currentImages=e;var t=document.getElementById("imgcanvasHidden"),o=t.getContext("2d");d.showImages(e,t,o,!0).finally(function(){i.switchCanvas()})}},switchCanvas:function(){var e=document.getElementById("imgcanvas"),i=document.getElementById("imgcanvasHidden");e.getContext("2d").drawImage(i,0,0)},clearImages:function(){var e=document.getElementById("imgcanvas");e.getContext("2d").clearRect(0,0,e.width,e.height),this.currentImages=""}}},I={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,i=this._self._c||e;return i("div",[i("canvas",{staticStyle:{width:"100%",height:"100%","object-fit":"contain"},attrs:{id:"imgcanvas",width:"640px",height:"480px"}}),this._v(" "),i("canvas",{staticStyle:{visibility:"hidden"},attrs:{id:"imgcanvasHidden",width:"640px",height:"480px"}})])}]};var S=t("VU/8")(_,I,!1,function(e){t("4xAV")},"data-v-2601949e",null).exports,M=t("162o"),N={name:"AudioPlayer",data:function(){return{audioPlayer:null,ambientPlayer:null,musicPlayer:null,bgndMusicPlayer:null,sfxPlayer:null,currentAudioName:"",currentSFXName:"",currentUtterance:null,currentAmbientName:"",currentMusicName:"",currentBgndMusicName:"",silentTimerId:0,loop:!1}},mounted:function(){this.audioPlayer||this.initialize()},methods:{initialize:function(){this.audioPlayer=this.$refs.audioPlayer,this.ambientPlayer=this.$refs.ambientPlayer,this.musicPlayer=this.$refs.musicPlayer,this.bgndMusicPlayer=this.$refs.bgndMusicPlayer,this.sfxPlayer=this.$refs.sfxPlayer},playAudio:function(e,i,t){if(console.log(e,t),m.a.ENABLE_SPEECH&&t&&"..."!==t){var o=speechSynthesis.getVoices();return this.currentUtterance=new SpeechSynthesisUtterance(t),this.currentUtterance.voice=o[0],this.currentUtterance.rate=2,this.currentUtterance.onend=this.onAudioEnded,void speechSynthesis.speak(this.currentUtterance)}if(this.clearSilentTimer(),this.currentAudioName=e,e.toUpperCase().includes("SILENT_")){var n=e.toUpperCase().replace("SILENT_","");this.silentTimerId=Object(M.setTimeout)(this.onAudioEnded,1e3*n)}else""!==this.musicPlayer.src&&(this.musicPlayer.volume=.05),""!==this.bgndMusicPlayer.src&&(this.bgndMusicPlayer.volume=.05),this.audioPlayer.loop=i,this.audioPlayer.src=this.getAudioSrc(e),this.audioPlayer.load()},getAudioSrc:function(e){if(e.indexOf("http")>=0)return e;var i=r.a.getAssetByName(r.a.CATEGORY_AUDIO,e);return i||this.getAudioPathByName(e)},getAudioPathByName:function(e){var i=e;return i.indexOf(".mp3")<0&&(i+=".mp3"),!function(){var e=new Error('Cannot find module "@/assets/audio"');throw e.code="MODULE_NOT_FOUND",e}()},stopAudio:function(){this.audioPlayer.pause(),this.clearSilentTimer(),m.a.ENABLE_SPEECH&&speechSynthesis.cancel(),""!==this.musicPlayer.src&&(this.musicPlayer.volume=.4),""!==this.bgndMusicPlayer.src&&(this.bgndMusicPlayer.volume=.4)},clearSilentTimer:function(){clearTimeout(this.silentTimerId._id),this.silentTimerId=0},onAudioEnded:function(){this.$emit("audioEnded",this.currentAudioName)},playAmbient:function(e){console.log("ambient",e),""!==e&&e!==this.currentAmbientName&&(this.currentAmbientName=e,"NONE"!==e.toUpperCase()&&"OFF"!==e.toUpperCase()?(this.ambientPlayer.loop=!0,this.ambientPlayer.src=this.getAudioSrc(e),this.ambientPlayer.load()):this.ambientPlayer.src="")},playMusic:function(e){console.log("playMusic",e),""!==e&&(this.currentMusicName=e,"NONE"!==e.toUpperCase()&&"OFF"!==e.toUpperCase()?(this.musicPlayer.src=this.getAudioSrc(e),this.musicPlayer.load()):this.musicPlayer.src="")},onMusicEnded:function(){this.$emit("musicEnded",this.currentMusicName)},stopMusic:function(){this.musicPlayer.pause()},playBgndMusic:function(e){console.log("playBgndMusic",e),""!==e&&(this.currentBgndMusicName=e,"NONE"!==e.toUpperCase()&&"OFF"!==e.toUpperCase()?(this.bgndMusicPlayer.src=this.getAudioSrc(e),this.bgndMusicPlayer.load()):this.bgndMusicPlayer.src="")},onBgndMusicEnded:function(){this.$emit("bgndMusicEnded",this.currentBgndMusicName)},stopBgndMusic:function(){this.bgndMusicPlayer.pause()},playSFX:function(e){console.log("SFX",e),this.currentSFXName=e,this.sfxPlayer.src=this.getAudioSrc(e),this.sfxPlayer.load()},onSFXEnded:function(){this.$emit("sfxEnded",this.currentSFXName)},stopSFX:function(){this.sfxPlayer.pause()}}},w={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("audio",{ref:"audioPlayer",attrs:{autoplay:"",loop:e.loop},on:{ended:e.onAudioEnded}},[t("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),t("audio",{ref:"ambientPlayer",attrs:{autoplay:""}},[t("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),t("audio",{ref:"musicPlayer",attrs:{autoplay:""},on:{ended:e.onMusicEnded}},[t("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),t("audio",{ref:"bgndMusicPlayer",attrs:{autoplay:""},on:{ended:e.onBgndMusicEnded}},[t("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),t("audio",{ref:"sfxPlayer",attrs:{autoplay:""},on:{ended:e.onSFXEnded}},[t("source",{attrs:{type:"audio/mp3"}})])])},staticRenderFns:[]};var V={data:function(){return{totalMS:0,currentMS:0,timerId:0,interval:100,styleObject:{width:"0%"}}},methods:{setTimer:function(e,i){var t=this;console.log("TimerView::setTimer",e,i),this.mark=i,this.seconds=e,this.clearTimer(),e<=0||(this.totalMS=1e3*e,this.currentMS=0,this.timerId=Object(M.setInterval)(function(){t.currentMS+=t.interval,t.updateIndicator(),t.currentMS>t.totalMS&&(t.clearTimer(),t.currentMS=t.totalMS,t.onTimeExpired())},this.interval))},onTimeExpired:function(){console.log("TimerView::timeExpired"),this.$emit("timeExpired")},clearTimer:function(){console.log("TimerView::clearTimer"),Object(M.clearInterval)(this.timerId),this.totalMS=100,this.currentMS=100,this.updateIndicator()},updateIndicator:function(){this.styleObject.width=100-100*this.currentMS/this.totalMS+"%"},updatePercent:function(e,i){this.styleObject.width=100*e/i+"%"}}},T={render:function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"progressbar orange"},[i("span",{style:this.styleObject})])},staticRenderFns:[]};var P={render:function(){var e=this.$createElement,i=this._self._c||e;return i("div",[i("p",{staticStyle:{"white-space":"pre-line"}},[this._v(this._s(this.txtQuestion))])])},staticRenderFns:[]};var b={data:function(){return{items:[],isInputS:!1,styleObjectList:{visibility:"none","overflow-y":"scroll"},styleObjectInput:{visibility:"none"},isBlocked:!1,inputS:""}},methods:{setAnswers:function(e,i,t){if(this.isInputS=i,this.inputSVal=t,this.isBlocked=!1,this.items=e,this.items.length)for(var o=0;o<this.items.length;o++)this.items[o].isActive=0===o},onAnswerClick:function(e){if(console.log("onAnswerClick"),e.inputS="",this.isBlocked=!0,this.items.length)for(var i=0;i<this.items.length;i++)this.items[i].isActive=e.id===this.items[i].id;this.dispatchAnswerClick(e)},onEnter:function(){if(console.log(this.inputS),""!==this.inputS){var e=this.items[0];e.inputS=this.inputS,this.copyInputSToClipboard(),this.dispatchAnswerClick(e)}},dispatchAnswerClick:function(e){this.$emit("answerClick",e)},showAnswers:function(){var e=this;this.isInputS?(this.inputS="",this.styleObjectInput.visibility="visible",this.styleObjectList.visibility="hidden",this.styleObjectList.height=0,setTimeout(function(){e.inputS=e.inputSVal,e.$refs.inputS.focus()},10)):(this.styleObjectInput.visibility="hidden",this.styleObjectList.visibility="visible",this.styleObjectList.height="100%")},hideAnswers:function(){this.styleObjectInput.visibility="hidden",this.styleObjectList.visibility="hidden"},copyInputSToClipboard:function(){var e=document.querySelector("#inputS");e.setAttribute("type","text"),e.select();try{document.execCommand("copy")}catch(e){}}}},B={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("RecycleScroller",{staticClass:"scroller",style:e.styleObjectList,attrs:{items:e.items,"item-size":40},scopedSlots:e._u([{key:"default",fn:function(i){var o=i.item;return[t("div",{staticClass:"item",class:o.isActive?"active":"",on:{click:function(i){return e.onAnswerClick(o)}}},[e._v(e._s(o.text))])]}}])}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputS,expression:"inputS"}],ref:"inputS",staticClass:"input-style",style:e.styleObjectInput,attrs:{id:"inputS",placeholder:"input / набирай"},domProps:{value:e.inputS},on:{keyup:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.onEnter.apply(null,arguments)},input:function(i){i.target.composing||(e.inputS=i.target.value)}}})],1)},staticRenderFns:[]};var O={data:function(){return{styleControls:{visibility:"hidden"},styleObjectCheat:{display:this.$debug?"auto":"none"},isCheatPurchased:this.$debug,isSaveButton:m.a.ENABLE_SAVE_BUTTON||this.$debug,isLoadButton:m.a.ENABLE_LOAD_BUTTON||this.$debug,isBackButton:m.a.ENABLE_BACK_BUTTON||this.$debug,isEpisodesButton:m.a.ENABLE_EPISODES_BUTTON||this.$debug,isSkipButton:m.a.ENABLE_SKIP_BUTTON||this.$debug,isDonateButton:m.a.ENABLE_DONATE_BUTTON||this.$debug}},methods:{showControls:function(){this.styleControls.visibility="visible"},hideControls:function(){this.styleControls.visibility="hidden"},onRestartClick:function(){console.log("RESTART"),this.$emit("restartGame")},onSaveClick:function(){console.log("saveGame"),this.$emit("saveGame")},onLoadClick:function(){console.log("loadGame"),this.$emit("loadGame")},onBackClick:function(){console.log("cheatBack"),this.$emit("cheatBack")},onSkipClick:function(){console.log("cheatSkip"),this.$emit("cheatSkip")},onEpisodeClick:function(){console.log("cheatEpisode"),this.$emit("cheatEpisode")},onDonateClick:function(){console.log("donate"),this.$emit("donate")},enablePurchasedCheats:function(){console.log("enablePurchasedCheats"),this.isCheatPurchased=!0}}},x={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{style:e.styleControls},[t("button",{on:{click:e.onRestartClick}},[e._v("3AHOBO")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isSaveButton,expression:"isSaveButton"}],style:e.styleObjectCheat,on:{click:e.onSaveClick}},[e._v("Coxp.")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isLoadButton,expression:"isLoadButton"}],style:e.styleObjectCheat,on:{click:e.onLoadClick}},[e._v("3arp.")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isCheatPurchased||e.isSkipButton,expression:"isCheatPurchased || isSkipButton"}],style:e.styleObjectCheat,on:{click:e.onSkipClick}},[e._v("npon.")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isBackButton,expression:"isBackButton"}],style:e.styleObjectCheat,on:{click:e.onBackClick}},[e._v("Ha3ag")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isCheatPurchased||e.isEpisodesButton,expression:"isCheatPurchased || isEpisodesButton"}],style:e.styleObjectCheat,on:{click:e.onEpisodeClick}},[e._v("3nu3og")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.isDonateButton,expression:"isDonateButton"}],style:e.styleObjectCheat,on:{click:e.onDonateClick}},[e._v("rpynna VK")])])},staticRenderFns:[]};var D={components:{BgPicturePlayer:h,VideoPlayer:f,BgndImagePlayer:y,ImagePlayer:S,AudioPlayer:t("VU/8")(N,w,!1,function(e){t("2T6O")},"data-v-62db1b77",null).exports,TimerView:t("VU/8")(V,T,!1,function(e){t("HbOr")},"data-v-115f2128",null).exports,QuestionView:t("VU/8")({data:function(){return{txtQuestion:""}},methods:{setQuestion:function(e){this.txtQuestion=e},clearQuestion:function(){this.txtQuestion=""}}},P,!1,function(e){t("nJvg")},"data-v-74aa3d6e",null).exports,AnswersList:t("VU/8")(b,B,!1,function(e){t("kInz")},"data-v-be70fda2",null).exports,ControlsView:t("VU/8")(O,x,!1,function(e){t("nWAT")},"data-v-9c5fb70c",null).exports},mounted:function(){this.initialize()},methods:{initialize:function(){},showPreloading:function(){this.$refs.answersView.hideAnswers(),this.$refs.controlsView.hideControls()},showGameView:function(){this.$refs.controlsView.showControls()},setQuestionText:function(e){this.$refs.questionView.setQuestion(e)},showAnswers:function(e,i,t){this.$refs.answersView.setAnswers(e,i,t),this.$refs.answersView.showAnswers()},clearAnswers:function(){this.$refs.answersView.setAnswers([],null),this.$refs.answersView.hideAnswers()},hideAnswers:function(){this.$refs.answersView.hideAnswers()},setTimer:function(e,i){this.$refs.timerView.setTimer(e,i)},clearTimer:function(e){this.$refs.timerView.clearTimer()},showBgPictures:function(e){this.$refs.bgPicturePlayer.showBgPictures(e)},playVideo:function(e,i){this.$refs.videoPlayer.playVideo(e,i)},stopVideo:function(){this.$refs.videoPlayer.stopVideo()},playAudio:function(e,i,t){this.$refs.audioPlayer.playAudio(e,i,t)},stopAudio:function(){this.$refs.audioPlayer.stopAudio()},showBgndImages:function(e){this.$refs.bgndImagePlayer.showImages(e)},clearBgndImages:function(){this.$refs.bgndImagePlayer.clearImages()},showImages:function(e){this.$refs.imagePlayer.showImages(e)},clearImages:function(){this.$refs.imagePlayer.clearImages()},playAmbient:function(e,i){this.$refs.audioPlayer.playAmbient(e)},playMusic:function(e,i){this.$refs.audioPlayer.playMusic(e)},stopMusic:function(){this.$refs.audioPlayer.stopMusic()},playBgndMusic:function(e,i){this.$refs.audioPlayer.playBgndMusic(e)},stopBgndMusic:function(){this.$refs.audioPlayer.stopBgndMusic()},playSFX:function(e,i){this.$refs.audioPlayer.playSFX(e)},stopSFX:function(){this.$refs.audioPlayer.stopSFX()},processAnswerClick:function(e){this.$emit("answerClick",e)},processVideoEnded:function(e){this.$emit("videoEnded",e)},processAudioEnded:function(e){this.$emit("audioEnded",e)},processSFXEnded:function(e){this.$emit("sfxEnded",e)},processMusicEnded:function(e){this.$emit("musicEnded",e)},processBgndMusicEnded:function(e){this.$emit("bgndMusicEnded",e)},processTimeExpired:function(){this.$emit("timeExpired")},updateTimerViewPercent:function(e,i){this.$refs.timerView.updatePercent(e,i)},restartGame:function(){this.$emit("restartGame")},saveGame:function(){this.$emit("saveGame")},loadGame:function(){this.$emit("loadGame")},cheatSkip:function(){this.$emit("cheatSkip")},cheatBack:function(){this.$emit("cheatBack")},cheatEpisode:function(){console.log("cheatEpisode"),this.$emit("cheatEpisode")},donate:function(){console.log("donate"),this.$emit("donate")},enablePurchasedCheats:function(){this.$refs.controlsView.enablePurchasedCheats()}}},R={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{ref:"mainView",staticClass:"main-view"},[t("BgPicturePlayer",{ref:"bgPicturePlayer",staticClass:"bg-picture-container"}),e._v(" "),t("VideoPlayer",{ref:"videoPlayer",staticClass:"video-container",on:{videoEnded:e.processVideoEnded}}),e._v(" "),t("BgndImagePlayer",{ref:"bgndImagePlayer",staticClass:"bgnd-image-container"}),e._v(" "),t("ImagePlayer",{ref:"imagePlayer",staticClass:"image-container"}),e._v(" "),t("AudioPlayer",{ref:"audioPlayer",staticClass:"audio-container",on:{audioEnded:e.processAudioEnded,sfxEnded:e.processSFXEnded,musicEnded:e.processMusicEnded,bgndMusicEnded:e.processBgndMusicEnded}}),e._v(" "),t("QuestionView",{ref:"questionView",staticClass:"questions-container"}),e._v(" "),t("TimerView",{ref:"timerView",staticClass:"timer-container",on:{timeExpired:e.processTimeExpired}}),e._v(" "),t("AnswersList",{ref:"answersView",staticClass:"answers-container",on:{answerClick:e.processAnswerClick}}),e._v(" "),t("ControlsView",{ref:"controlsView",staticClass:"controls-container",on:{restartGame:e.restartGame,saveGame:e.saveGame,loadGame:e.loadGame,cheatSkip:e.cheatSkip,cheatBack:e.cheatBack,cheatEpisode:e.cheatEpisode,donate:e.donate}})],1)},staticRenderFns:[]};var k=t("VU/8")(D,R,!1,function(e){t("eFts")},"data-v-0bde706f",null).exports,F=t("mvHQ"),G=t.n(F),L=t("Dd8w"),U=t.n(L),j=t("Rz6t"),Q={data:function(){return{scenario:null,marksDictionary:{},scriptsDictionary:{},sessions:0,gameData:{},currentNode:null,prevQuestionNodes:null,nextNode:null,currentQuestionLabel:"",isFinal:!1,currentAnswers:null,inputSVarName:null,inputSVarValue:null,answerTime:0,timeExpiredMark:"",currentVideoSequence:[],currentVideoIndex:0,currentAudioSequence:[],currentAudioIndex:0,currentSFXSequence:[],currentSFXIndex:0,currentBgPictures:null,prevBgPictures:null,currentBgndImages:null,currentImages:null,currentAmbientName:"",currentMusicSequence:[],currentMusicIndex:0,currentBgndMusicSequence:[],currentBgndMusicIndex:0,isNewMusic:!1,isNewBgndMusic:!1,navigateUrl:"",episodeNo:1,isHideAnswers:!1}},computed:{},methods:{prepareData:function(){this.createMarksDictionary(this.scenario),this.$debug?(j.a.runTests(),this.runTests(),this.initStore()):document.addEventListener("deviceready",this.initStore)},initStore:function(){console.log("window.store",window.store),window.store?(window.store.register({id:m.a.GP_PRODUCT1_NAME,alias:"coin",type:window.store.CONSUMABLE}),window.store.register({id:m.a.GP_PRODUCT2_NAME,alias:"episodes",type:window.store.CONSUMABLE}),window.store.error(function(e){console.log("%c ERROR "+e.code+": "+e.message,"background: #FF0000; color: #FFFFFF")}),window.store.refresh(),this.gameData.store=window.store):console.log("%c Store not available","background: #FF0000; color: #FFFFFF")},saveGameData:function(){var e=this.getCurrentNodeFirstMark();if(e){console.log("Saving... markName:",e),localStorage.setItem("markName",e);var i=this.gameData.store;this.gameData.store=null;var t=U()({},this.gameData);return localStorage.setItem("gameData",G()(t)),this.gameData.store=i,console.log("gameData:",t),!0}return!1},loadGameData:function(){var e=localStorage.getItem("markName");if(console.log("Loading... markName:",e),e){var i=this.gameData.store;return this.gameData=JSON.parse(localStorage.getItem("gameData")),this.gameData.store=i,console.log("gameData:",this.gameData),this.getGameDataVarValue(m.a.GAME_VERSION_VAR_NAME)<m.a.GAME_VERSION&&(e=m.a.GAME_UPGRADE_POINT),this.setGameDataVarValue(m.a.GAME_VERSION_VAR_NAME,m.a.GAME_VERSION),this.gotoMark(e),!0}return!1},savePurchasedItem:function(e){console.log("Saving... purchaseItem:",e),localStorage.setItem(e,!0)},loadPurchasedItem:function(e){return console.log("Loading... purchaseItem:",e),localStorage.getItem(e)},restartGame:function(){if(this.setGameDataVarValue(m.a.GAME_VERSION_VAR_NAME,m.a.GAME_VERSION),this.currentNode=this.scenario.node[0].node[0],this.sessions>0){var e=this.findNodeWithMark(this.scenario,m.a.GAME_SAVE_POINT);e&&(this.currentNode=e)}this.sessions++,this.prevQuestionNodes=[],this.answerTime=0,this.timeExpiredMark="",this.episodeNo=1},createMarksDictionary:function(e){if(e._mark){var i=e._mark.split(",");for(var t in i)this.marksDictionary[i[t].trim()]=e}for(var o in e.node)this.createMarksDictionary(e.node[o])},findNodeWithMark:function(e,i){var t=i.trim();return this.marksDictionary[t]},getCurrentNodeFirstMark:function(){return this.currentNode&&this.currentNode._mark?this.currentNode._mark.split(",")[0]:null},processGOTONode:function(e){var i=e;i._parsedContent=this.evalString(i._content);for(var t=j.a.getTagValueGOTO(i._parsedContent);t.length>0;){var o=j.a.getArrayRandomElement(t);if(!(i=this.findNodeWithMark(this.scenario,o)))return console.log("%c Cant find mark in scenario!"+o,"background: #FF0000; color: #FFFFFF"),e;i._parsedContent=this.evalString(i._content),t=j.a.getTagValueGOTO(i._parsedContent)}return i},prepareCurrentQuestion:function(){this.currentNode=this.processGOTONode(this.currentNode);var e=U()({},this.gameData);this.currentNode._gameData=JSON.parse(G()(e)),this.prevQuestionNodes.push(this.currentNode);var i=j.a.getTagValueFINAL(this.currentNode._parsedContent);this.isFinal=""!==i,this.isFinal||(i=j.a.getTagValueLABEL(this.currentNode._parsedContent)),this.currentQuestionLabel=i,this.navigateUrl=j.a.getTagValueNAVIGATEURL(this.currentNode._parsedContent),this.purchaseItem=j.a.getTagValuePURCHASE(this.currentNode._parsedContent),console.log("purchaseItem:",this.purchaseItem);var t=j.a.getTagValueBGNDIMAGE(this.currentNode._parsedContent);if(this.currentBgndImages=j.a.getArrayRandomElement(t),"*"===this.currentBgndImages){var o=this.evalString(this.currentNode._content);t=j.a.getTagValueIMAGE(o),this.currentBgndImages=j.a.getArrayRandomElement(t)}this.prevBgPictures=this.currentBgPictures;var n=j.a.getTagValueBGPICTURE(this.currentNode._parsedContent);this.currentBgPictures=j.a.getArrayRandomElement(n);var s=j.a.getTagValueIMAGE(this.currentNode._parsedContent);this.currentImages=j.a.getArrayRandomElement(s),this.currentVideoSequence=j.a.getTagValueVIDEO(this.currentNode._parsedContent),this.currentVideoIndex=0,this.currentAudioSequence=j.a.getTagValueAUDIO(this.currentNode._parsedContent),this.currentAudioIndex=0,this.currentAmbientName=j.a.getTagValueAMBIENT(this.currentNode._parsedContent),this.currentSFXSequence=j.a.getTagValueSOUNDFX(this.currentNode._parsedContent),this.currentSFXIndex=0,this.processNodeMusic(this.currentNode),this.processNodeBgndMusic(this.currentNode),this.answerTime=j.a.getTagValueANSWERTIME(this.currentNode._parsedContent),this.timeExpiredMark=j.a.getTagValueTIMEEXPIRED(this.currentNode._parsedContent),this.isHideAnswers="ON"===j.a.getTagValueHIDEANSWERS(this.currentNode._parsedContent)},hasEmptyQuestion:function(){return""===this.currentNode._content},prepareAfterQuestion:function(){this.currentVideoSequence=j.a.getTagValueBGNDVIDEO(this.currentNode._parsedContent),this.currentVideoIndex=0,this.currentAudioSequence=j.a.getTagValueBGNDAUDIO(this.currentNode._parsedContent),this.currentAudioIndex=0},getCurrentQuestionLabel:function(){return this.currentQuestionLabel},getCurrentNavigateUrl:function(){return this.navigateUrl},getCurrentVideoName:function(){return this.currentVideoSequence[this.currentVideoIndex]},getCurrentAudioName:function(){return this.currentAudioSequence[this.currentAudioIndex]},getCurrentSFXName:function(){return this.currentSFXSequence[this.currentSFXIndex]},getCurrentAmbientName:function(){return this.currentAmbientName},getCurrentMusicName:function(){return this.currentMusicSequence[this.currentMusicIndex]},getCurrentBgndMusicName:function(){return this.currentBgndMusicSequence[this.currentBgndMusicIndex]},setNextVideo:function(){this.currentVideoIndex++},setNextAudio:function(){this.currentAudioIndex++},setNextSFX:function(){this.currentSFXIndex++},setNextRandomMusic:function(){if(!this.hasMusicEmpty())for(var e=this.currentMusicIndex;this.currentMusicSequence.length>1&&e===this.currentMusicIndex;)this.currentMusicIndex=j.a.getArrayRandomIndex(this.currentMusicSequence)},setNextRandomBgndMusic:function(){if(!this.hasBgndMusicEmpty())for(var e=this.currentBgndMusicIndex;this.currentBgndMusicSequence.length>1&&e===this.currentBgndMusicIndex;)this.currentBgndMusicIndex=j.a.getArrayRandomIndex(this.currentBgndMusicSequence)},setCurrentVideoIndex:function(e){this.currentVideoIndex=e},setCurrentAudioIndex:function(e){this.currentAudioIndex=e},setCurrentMusicIndex:function(e){this.currentMusicIndex=e},hasCurrentVideo:function(){return this.currentVideoSequence.length>this.currentVideoIndex},hasCurrentAudio:function(){return this.currentAudioSequence.length>this.currentAudioIndex},hasCurrentMusic:function(){return this.currentMusicSequence.length>this.currentMusicIndex},hasVideoEmpty:function(){return 0===this.currentVideoSequence.length},hasAudioEmpty:function(){return 0===this.currentAudioSequence.length},hasMusicEmpty:function(){return 0===this.currentMusicSequence.length},hasBgndMusicEmpty:function(){return 0===this.currentBgndMusicSequence.length},prepareCurrentAnswers:function(){if(this.currentAnswers=[],this.currentNode.node){var e=this.currentNode.node.length,i=this.processGOTONode(this.currentNode.node[0]);if(this.inputSVarName=j.a.getTagValueINPUTS(i._parsedContent),this.inputSVarValue=this.getGameDataVarValue(this.inputSVarName),1===e&&""!==this.inputSVarName)this.currentAnswers.push({id:0,text:"inputS",node:i,nextNode:i.node});else{for(var t in this.currentNode.node){var o=this.processGOTONode(this.currentNode.node[t]);console.log("ANSWER#"+t+": ",o._parsedContent);var n=j.a.getTagValueLABEL(o._parsedContent);e>1&&""===n||this.currentAnswers.push({id:t,text:n,node:o,nextNode:o.node})}"ON"===j.a.getTagValueANSWERSORDER(this.currentNode._parsedContent).toUpperCase()||this.$debug||j.a.shuffle(this.currentAnswers)}}},hasEmptyAnswer:function(){return 1===this.currentAnswers.length&&""===this.currentAnswers[0].text&&!this.inputSVarName},getCurrentAnswers:function(){return this.currentAnswers},getAnswerTime:function(){return this.answerTime||0},setInputSVarValue:function(e){this.inputSVarValue=e},setAnswerById:function(e){var i=this.currentAnswers.filter(function(i){return i.id===e});""!==this.inputSVarName&&""!==this.inputSVarValue&&this.setGameDataVarValue(this.inputSVarName,this.inputSVarValue),this.currentNode=i[0].node,this.currentVideoSequence=j.a.getTagValueVIDEO(this.currentNode._parsedContent),this.currentVideoIndex=0,this.currentAudioSequence=j.a.getTagValueAUDIO(this.currentNode._parsedContent),this.currentAudioIndex=0,this.currentSFXSequence=j.a.getTagValueSOUNDFX(this.currentNode._parsedContent),this.currentSFXIndex=0;var t=j.a.getTagValueIMAGE(this.currentNode._parsedContent);this.currentImages=j.a.getArrayRandomElement(t),this.nextNode=this.currentNode.node[0],this.currentAmbientName=j.a.getTagValueAMBIENT(this.currentNode._parsedContent),this.processNodeMusic(this.currentNode),this.processNodeBgndMusic(this.currentNode)},processNodeMusic:function(e){var i=j.a.getTagValueMUSIC(e._parsedContent);this.isNewMusic=i.length>0,this.isNewMusic&&(this.currentMusicSequence=i,this.currentMusicIndex=0)},processNodeBgndMusic:function(e){var i=j.a.getTagValueBGNDMUSIC(e._parsedContent);this.isNewBgndMusic=i.length>0,this.isNewBgndMusic&&(this.currentBgndMusicSequence=i,this.currentBgndMusicIndex=0)},setNextQuestion:function(){this.currentNode=this.nextNode},setPrevQuestion:function(){this.currentNode=this.prevQuestionNodes.pop(),this.prevQuestionNodes.length&&(this.currentNode=this.prevQuestionNodes.pop(),this.gameData=JSON.parse(G()(this.currentNode._gameData)))},setEpisode:function(){console.log("setEpisode",this.episodeNo);var e=this.findNodeWithMark(this.scenario,"EPISODE"+this.episodeNo);e?(this.currentNode=e,this.episodeNo++):(this.episodeNo=1,this.setEpisode())},gotoMark:function(e){console.log("gotoMark",e);var i=this.findNodeWithMark(this.scenario,e);if(i)this.currentNode=i;else{console.log("%c Cant find mark name: "+e+", will use default mark:"+m.a.DEFAULT_LOAD_MARK_NAME,"background: #FF0000; color: #FFFFFF"),e=m.a.DEFAULT_LOAD_MARK_NAME;var t=this.findNodeWithMark(this.scenario,e);t?this.currentNode=t:console.log("%c Cant find even default mark name: "+e,"background: #FF0000; color: #FFFFFF")}},processTimeExpired:function(){if(console.log("this.timeExpiredMark",this.timeExpiredMark),""!==this.timeExpiredMark){var e=this.findNodeWithMark(this.scenario,this.timeExpiredMark);console.log("gotoNode",e),e&&(this.currentNode=e),this.timeExpiredMark=""}},evalString:function(e){return j.a.evalString.call(this.gameData,e)},setGameDataVarValue:function(e,i){this.gameData[e.replace("this.","")]=i},getGameDataVarValue:function(e){return this.gameData[e.replace("this.","")]},runTests:function(){var e="Mark_Final1",i=!0,t=null!==this.findNodeWithMark(this.scenario,"Mark_Final1");j.a.checkCondition(e,i,t),this.gameData={a:1},e='test_{this.a=2;let b=3;this.a=b;"";}',i="test_",t=this.evalString(e),j.a.checkCondition(e,i,t),e='{if (Math.random() < 0.5) this.actorName="rock"; else this.actorName="kanye";"";}Hey brother stop!',i="Hey brother stop!",t=this.evalString(e),j.a.checkCondition(e,i,t),this.gameData={a:1},e='check_nested{this.a=2;let b=3; if (this.a != this.b) {{script test/test_nested.qsp}} else {"GOTO2"};}',i="check_nested[GOTO1]",t=this.evalString(e),j.a.checkCondition(e,i,t),this.gameData={a:1},e="...[IMAGE logo.png]",i="...[IMAGE logo.png]",t=this.evalString(e),j.a.checkCondition(e,i,t),this.gameData={}}}},H={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},$={components:{MainView:k,GameModel:t("VU/8")(Q,H,!1,null,null,null).exports},data:function(){return{mainView:null,gameModel:null,mode:0,MODE_QUESTION:1,MODE_AFTER_QUESTION:2,MODE_ANSWER:3,PURCHASE_ITEM_CHEATS:"cheats"}},mounted:function(){this.initialize()},methods:{initialize:function(){var e=this;this.mainView=this.$refs.mainView,this.gameModel=this.$refs.gameModel,this.loadPurchasedItems(),this.mainView.showPreloading(),this.onPreloadingUpdate(),this.mainView.showImages("logo.jpg"),r.a.setPreloadingCallback(this.onPreloadingUpdate),this.onPreloadingUpdate(),r.a.loadAssets().then(function(i){setTimeout(function(){e.assetsCached()},1e3)})},onPreloadingUpdate:function(e){var i="Loading...";e&&(e.current===e.total?i+=" done!":(i=i+e.current+"/"+e.total,this.mainView.updateTimerViewPercent(e.current,e.total))),this.mainView.setQuestionText(i)},assetsCached:function(){this.mainView.showGameView();var e=r.a.getAssetByName(r.a.CATEGORY_DATA,"scenario.json");this.gameModel.scenario=JSON.parse(e),this.gameModel.prepareData(),this.restartGame()},loadPurchasedItems:function(){var e=this.gameModel.loadPurchasedItem(this.PURCHASE_ITEM_CHEATS);console.log("this.purchaseItems:",this.PURCHASE_ITEM_CHEATS,e),e&&this.mainView.enablePurchasedCheats()},restartGame:function(){console.log("Restart"),this.stopVideo(),this.stopAudio(),this.gameModel.restartGame(),this.mainView.clearTimer(),this.showCurrentQuestion()},showCurrentQuestion:function(){this.mainView.clearTimer(),this.gameModel.prepareCurrentQuestion(),this.mainView.clearAnswers(),console.log("Q:",this.gameModel.getCurrentQuestionLabel()),this.mainView.setQuestionText(this.gameModel.getCurrentQuestionLabel()),console.log("GC:purchaseItem:",this.PURCHASE_ITEM_CHEATS,this.gameModel.purchaseItem),this.gameModel.purchaseItem===this.PURCHASE_ITEM_CHEATS&&(console.log("Save:purchaseItem:",this.PURCHASE_ITEM_CHEATS,this.gameModel.purchaseItem),this.mainView.enablePurchasedCheats(),this.gameModel.savePurchasedItem(this.gameModel.purchaseItem)),this.gameModel.getCurrentNavigateUrl()&&(console.log(this.gameModel.getCurrentNavigateUrl()),window.open(this.gameModel.getCurrentNavigateUrl(),"_system")),this.mode=this.MODE_QUESTION,this.playVideoAndAudio(),this.clearAndShowBgPictures(),this.mainView.clearBgndImages(),this.clearAndShowImages(),this.playAmbient(),this.playSoundFx(),this.playMusic(),this.playBgndMusic()},showAfterQuestion:function(){console.log(">>>after question"),this.gameModel.prepareAfterQuestion(),this.mode=this.MODE_AFTER_QUESTION,this.playVideoAndAudio(),this.clearAndShowBgndImages(),this.mainView.clearImages()},showCurrentAnswers:function(){if(!this.gameModel.isFinal){this.gameModel.prepareCurrentAnswers();var e=""!==this.gameModel.inputSVarName,i=this.gameModel.inputSVarValue;this.mainView.showAnswers(this.gameModel.getCurrentAnswers(),e,i),this.mainView.setTimer(this.gameModel.getAnswerTime(),this.gameModel.timeExpiredMark),this.gameModel.isHideAnswers&&this.mainView.hideAnswers()}},processAnswer:function(e){console.log(">>>process answer",e.text),this.mainView.setQuestionText(""),this.gameModel.setInputSVarValue(e.inputS),this.gameModel.setAnswerById(e.id),this.mainView.clearTimer(),this.mainView.clearAnswers(),this.mainView.clearBgndImages(),this.clearAndShowImages(),this.playAmbient(),this.playSoundFx(),this.playMusic(),this.playBgndMusic(),this.mode=this.MODE_ANSWER,this.playVideoAndAudio()},processVideoEnded:function(e){console.log("video ended:",e),this.gameModel.setNextVideo(),this.playVideoSequence()||this.processVideoAndAudioEnding()},processAudioEnded:function(e){console.log("audio ended:",e),this.gameModel.setNextAudio(),this.playAudioSequence()||this.processVideoAndAudioEnding()},processSFXEnded:function(e){console.log("sfx ended:",e),this.gameModel.setNextSFX(),this.playSoundFx()},playVideoAndAudio:function(){var e=this.gameModel.hasVideoEmpty(),i=this.gameModel.hasAudioEmpty();e&&i&&!this.checkIsSpeechEnabled()?this.processVideoAndAudioEnding():(e||this.playVideoSequence(),i&&!this.checkIsSpeechEnabled()||this.playAudioSequence())},playVideoSequence:function(){var e=this.gameModel.hasCurrentAudio();return this.gameModel.hasCurrentVideo()||this.mode!==this.MODE_QUESTION||this.gameModel.isFinal||e&&this.gameModel.setCurrentVideoIndex(0),this.gameModel.hasCurrentVideo()||this.mode!==this.MODE_AFTER_QUESTION||this.gameModel.setCurrentVideoIndex(0),!!this.gameModel.hasCurrentVideo()&&(this.mainView.playVideo(this.gameModel.getCurrentVideoName(),!1),!0)},playAudioSequence:function(){return this.gameModel.hasCurrentAudio()||this.mode!==this.MODE_AFTER_QUESTION||this.gameModel.setCurrentAudioIndex(0),this.checkIsSpeechEnabled()?(this.mainView.playAudio(this.gameModel.getCurrentAudioName(),!1,this.gameModel.getCurrentQuestionLabel()),!0):!!this.gameModel.hasCurrentAudio()&&(this.mainView.playAudio(this.gameModel.getCurrentAudioName(),!1),!0)},checkIsSpeechEnabled:function(){return m.a.ENABLE_SPEECH&&this.mode===this.MODE_QUESTION&&this.gameModel.getCurrentQuestionLabel()&&"..."!==this.gameModel.getCurrentQuestionLabel()},processVideoAndAudioEnding:function(){var e=this.gameModel.hasCurrentVideo(),i=this.gameModel.hasCurrentAudio(),t=this.gameModel.hasVideoEmpty(),o=this.gameModel.hasAudioEmpty();return console.log("<<<<<",this.mode,e,i,t,o),this.mode===this.MODE_QUESTION&&(t&&o||t&&!i||o&&!e||e&&!i&&!this.gameModel.isFinal||!e&&!i)?(console.log("case1"),this.stopVideo(),this.stopAudio(),this.showCurrentAnswers(),void(this.gameModel.isFinal||this.showAfterQuestion())):this.mode!==this.MODE_AFTER_QUESTION||e||i||!this.gameModel.hasEmptyAnswer()?void(this.mode===this.MODE_ANSWER&&(t&&o||t&&!i||o&&!e||!e&&!i)&&(console.log("case3"),this.stopVideo(),this.stopAudio(),this.gameModel.setNextQuestion(),this.showCurrentQuestion())):(console.log("case2"),void this.processAnswer(this.gameModel.getCurrentAnswers()[0]))},clearAndShowBgndImages:function(){this.gameModel.hasVideoEmpty()&&this.gameModel.currentBgndImages&&this.mainView.playVideo("NONE",!1),this.mainView.clearBgndImages(),this.mainView.showBgndImages(this.gameModel.currentBgndImages)},clearAndShowImages:function(){this.gameModel.hasVideoEmpty()&&this.gameModel.currentImages&&this.mainView.playVideo("NONE",!1),this.mainView.clearImages(),this.mainView.showImages(this.gameModel.currentImages)},clearAndShowBgPictures:function(){this.mainView.showBgPictures(this.gameModel.currentBgPictures)},playAmbient:function(){var e=this.gameModel.getCurrentAmbientName();this.mainView.playAmbient(e)},playSoundFx:function(){var e=this.gameModel.getCurrentSFXName();e&&""!==e&&this.mainView.playSFX(e)},playMusic:function(e){if(!this.gameModel.hasMusicEmpty()&&(this.gameModel.isNewMusic||e)){this.gameModel.setNextRandomMusic();var i=this.gameModel.getCurrentMusicName();this.mainView.playMusic(i)}},processMusicEnded:function(e){console.log("music ended:",e),this.playMusic(!0)},playBgndMusic:function(e){if(!this.gameModel.hasBgndMusicEmpty()&&(this.gameModel.isNewBgndMusic||e)){this.gameModel.setNextRandomBgndMusic();var i=this.gameModel.getCurrentBgndMusicName();this.mainView.playBgndMusic(i)}},processBgndMusicEnded:function(e){console.log("bgnd music ended:",e),this.playBgndMusic(!0)},processTimeExpired:function(){console.log("Time expired!"),this.gameModel.processTimeExpired(),this.stopVideo(),this.stopAudio(),this.mainView.clearTimer(),this.showCurrentQuestion()},stopVideo:function(){this.mainView.stopVideo(),this.gameModel.setCurrentVideoIndex(0)},stopAudio:function(){this.mainView.stopAudio(),this.gameModel.setCurrentAudioIndex(0)},saveGame:function(){this.gameModel.saveGameData()||console.log("Cant save game!")},loadGame:function(){this.gameModel.loadGameData()?(this.stopVideo(),this.stopAudio(),this.mainView.stopMusic(),this.mainView.clearTimer(),this.showCurrentQuestion()):console.log("Cant load game!")},cheatSkip:function(){this.mode===this.MODE_QUESTION&&(this.stopVideo(),this.stopAudio(),this.showCurrentAnswers(),this.gameModel.isFinal||this.showAfterQuestion()),this.mode===this.MODE_ANSWER&&(this.stopVideo(),this.stopAudio(),this.gameModel.setNextQuestion(),this.showCurrentQuestion())},cheatBack:function(){this.stopVideo(),this.stopAudio(),this.mainView.clearTimer(),this.gameModel.setPrevQuestion(),this.showCurrentQuestion()},cheatEpisode:function(){this.stopVideo(),this.stopAudio(),this.mainView.clearTimer(),this.gameModel.setEpisode(),this.showCurrentQuestion()},donate:function(){window.open("https://vk.com/club23748098","_system")}}},q={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("MainView",{ref:"mainView",on:{answerClick:e.processAnswer,videoEnded:e.processVideoEnded,audioEnded:e.processAudioEnded,sfxEnded:e.processSFXEnded,musicEnded:e.processMusicEnded,restartGame:e.restartGame,saveGame:e.saveGame,loadGame:e.loadGame,timeExpired:e.processTimeExpired,cheatSkip:e.cheatSkip,cheatBack:e.cheatBack,cheatEpisode:e.cheatEpisode,donate:e.donate}}),e._v(" "),t("GameModel",{ref:"gameModel"})],1)},staticRenderFns:[]},X=t("VU/8")($,q,!1,null,null,null).exports;o.a.use(a.a);var W=new a.a({routes:[{path:"/",name:"Game",component:X}]}),Y=(t("03v1"),t("8jLZ"));o.a.use(Y.a),o.a.config.productionTip=!1,o.a.prototype.$debug=!1,new o.a({el:"#app",router:W,components:{App:s},template:"<App/>"})},PDp4:function(e,i,t){e.exports=t.p+"static/media/sg3.beb7d08.mp4"},PvXa:function(e,i,t){var o={"./data/scenario":"jvff","./data/scenario.json":"jvff","./images/black.jpg":"QFTt","./images/donate.png":"fu6K","./images/logo.jpg":"4GjL","./scripts/init.qsp":"4Dvg","./video/alco.mp4":"zlCx","./video/fridge.mp4":"8N5C","./video/gl_p1.mp4":"Sm4Z","./video/gl_p2.mp4":"9naN","./video/pb2.mp4":"6u/R","./video/sg.mp4":"E+vs","./video/sg1.mp4":"Ab/g","./video/sg16.mp4":"pQv2","./video/sg2.mp4":"Smt9","./video/sg3.mp4":"PDp4","./video/sg4.mp4":"IiMc","./video/sg5.mp4":"Y1r8","./video/sg666.mp4":"ZR56","./video/taxoman.mp4":"6vp8","./video/voenkomat.mp4":"7WMJ"};function n(e){return t(s(e))}function s(e){var i=o[e];if(!(i+1))throw new Error("Cannot find module '"+e+"'.");return i}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="PvXa"},QFTt:function(e,i){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAHgAoADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5/ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD//Z"},RL9R:function(e,i,t){var o={"./data/scenario.json":"jvff","./scripts/init.qsp":"4Dvg"};function n(e){return t(s(e))}function s(e){var i=o[e];if(!(i+1))throw new Error("Cannot find module '"+e+"'.");return i}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="RL9R"},Rz6t:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__components_controller_CacheController_js__=__webpack_require__("b3CK");__webpack_exports__.a={ALL_TAGS:["LABEL","INPUTS","FINAL","GOTO","NAVIGATEURL","PURCHASE","BGPICTURE","VIDEO","AUDIO","BGNDVIDEO","BGNDAUDIO","BGNDIMAGE","IMAGE","AMBIENT","SOUNDFX","MUSIC","BGNDMUSIC","ANSWERSORDER","ANSWERTIME","TIMEEXPIRED","ANSWERIMAGE"],getTagValueLABEL:function(e){var i=this.getTagValue(e,"LABEL");return i=this.removeBrackets(i,"[","]")},getTagValueINPUTS:function(e){return this.getTagValue(e,"INPUTS")},getTagValueANSWERSORDER:function(e){return this.getTagValue(e,"ANSWERSORDER")},getTagValueANSWERTIME:function(e){return this.getTagValue(e,"ANSWERTIME")},getTagValueTIMEEXPIRED:function(e){return this.getTagValue(e,"TIMEEXPIRED")},getTagValueFINAL:function(e){return this.getTagValue(e,"FINAL")},getTagValueGOTO:function(e){return this.getTagValueSequence(e,"GOTO")},getTagValueNAVIGATEURL:function(e){return this.getTagValue(e,"NAVIGATEURL")},getTagValuePURCHASE:function(e){return console.log(e),this.getTagValue(e,"PURCHASE")},getTagValueVIDEO:function(e){return this.getTagValueVideoSequence(e,"VIDEO")},getTagValueAUDIO:function(e){return this.getTagValueAudioSequence(e,"AUDIO")},getTagValueSOUNDFX:function(e){return this.getTagValueAudioSequence(e,"SOUNDFX")},getTagValueBGNDVIDEO:function(e){return this.getTagValueVideoSequence(e,"BGNDVIDEO")},getTagValueBGNDAUDIO:function(e){return this.getTagValueAudioSequence(e,"BGNDAUDIO")},getTagValueBGPICTURE:function(e){return this.getTagValueSequence(e,"BGPICTURE")},getTagValueIMAGE:function(e){return this.getTagValueSequence(e,"IMAGE")},getTagValueBGNDIMAGE:function(e){return this.getTagValueSequence(e,"BGNDIMAGE")},getTagValueAMBIENT:function(e){return this.getTagValue(e,"AMBIENT").replace(".mp3","")},getTagValueMUSIC:function(e){return this.getTagValueAudioSequence(e,"MUSIC")},getTagValueBGNDMUSIC:function(e){return this.getTagValueAudioSequence(e,"BGNDMUSIC")},getTagValueHIDEANSWERS:function(e){return this.getTagValue(e,"HIDEANSWERS")},getTagValueVideoSequence:function(e,i){return this.getTagValueSequence(e,i).map(function(e){return e.trim().replace(".mp4","").replace(".flv","")})},getTagValueAudioSequence:function(e,i){return this.getTagValueSequence(e,i).map(function(e){return e.trim().replace(".mp3","")})},getTagValueSequence:function(e,i){var t=this.getTagValue(e,i);if(""===t)return[];var o=[];return t.indexOf("||")>=0?(o=t.split("||"),o=this.shuffle(o)):o=t.split(","),o},getTagValue:function(e,i){var t="",o="",n=e.split("["+i+" ");if(n[1]){for(var s=!1,a=n[1],r=0;r<this.ALL_TAGS.length;r++){var c=this.ALL_TAGS[r];if(c!==i){var A=a.split("]]["+c+" ");if(1===A.length&&(A=a.split("]["+c+" ")),A.length>1)s=!0,((o=A[0]).length<t.length||""===t)&&(t=o);else{var u=a.split("["+c+" ");u.length>1&&(s=!0,((o=u[0]).length<t.length||""===t)&&(t=o))}}}if(!s){var K=a.lastIndexOf("]");"LABEL"===i?K>=0&&(t=a.substring(0,K)+""+a.substring(K+1)):(K=a.indexOf("]"))>=0&&(t=a.substring(0,K))}}return t},getArrayRandomElement:function(e){if(e&&e.length)return e[Math.floor(Math.random()*e.length)]},getArrayRandomIndex:function(e){return Math.floor(Math.random()*e.length)},shuffle:function(e){for(var i=e.length-1;i>0;i--){var t=Math.floor(Math.random()*(i+1)),o=[e[t],e[i]];e[i]=o[0],e[t]=o[1]}return e},cloneObject:function(e){return JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e))},evalString:function evalString(___str___){for(var result=___str___,preresult=___str___,SCRIPT_KEYWORD="{script ",SCRIPT_EXTENSION=".qsp",SCRIPT_SUFFIX="}",hasScript=!1,firstRun=!0;hasScript||firstRun;){firstRun=!1;var pb=preresult.indexOf(SCRIPT_KEYWORD);if(hasScript=pb>=0,hasScript){for(var bl=0,hasScriptEnding=!1;pb+bl<preresult.length&&(hasScriptEnding=preresult[pb+bl]===SCRIPT_SUFFIX,!hasScriptEnding);)bl++;if(hasScriptEnding){var scriptStr=preresult.substr(pb,bl+1);console.log("SCRIPT STR:",scriptStr);var scriptName=scriptStr.replace(SCRIPT_KEYWORD,"").replace(SCRIPT_EXTENSION,"").replace(SCRIPT_SUFFIX,"").trim(),scriptBody=__WEBPACK_IMPORTED_MODULE_1__components_controller_CacheController_js__.a.getAssetByName(__WEBPACK_IMPORTED_MODULE_1__components_controller_CacheController_js__.a.CATEGORY_SCRIPTS,scriptName);scriptBody||console.log("Script not found!",scriptName),scriptBody="{"+scriptBody+"}",preresult=preresult.replace(scriptStr,scriptBody)}}}for(var arr=[],bracesLeft=0,startPos=0,endPos=0,i=0;i<preresult.length;i++)"{"===preresult[i]&&(0===bracesLeft&&(startPos=i),bracesLeft++),"}"===preresult[i]&&(bracesLeft--,bracesLeft<0&&console.log("Incorrect string!",preresult),0===bracesLeft&&(endPos=i,arr.push({startPos:startPos,endPos:endPos})));if(arr.length){result="";for(var lastEnd=0,_i=0;_i<arr.length;_i++){var obj=arr[_i],start=obj.startPos,end=obj.endPos,length=end-start+1;result+=preresult.substr(lastEnd,start-lastEnd);var jsCode=preresult.substr(start,length);console.log("]]]]]]]]]]]]]]]]]]]]]]]]]]]",jsCode);var jsCodeResult=eval(jsCode)||"";result+=jsCodeResult,lastEnd=end+1}result+=preresult.substr(lastEnd,preresult.length-lastEnd)}return result},removeBrackets:function(e,i,t){for(var o=e,n=[],s=0,a=0,r=0,c=0;c<e.length;c++)e[c]===i&&(0===s&&(a=c),s++),e[c]===t&&(--s<0&&console.log("Incorrect string!",e),0===s&&(r=c,n.push({startPos:a,endPos:r})));if(n.length){o="";for(var A=0,u=0;u<n.length;u++){var K=n[u],d=K.startPos,l=K.endPos;o+=e.substr(A,d-A),A=l+1}o+=e.substr(A,e.length-A)}return o},runTests:function(){var e="",i="",t="";e="[LABEL test[ANSWERSORDER OFF][BGNDIMAGE Intro.jpg]",i="test",t=this.getTagValue(e,"LABEL"),this.checkCondition(e,i,t),e="[LABEL [GOTO test]]",i="test",t=this.getTagValue(e,"GOTO"),this.checkCondition(e,i,t),e="[GOTO test]",i="test",t=this.getTagValue(e,"GOTO"),this.checkCondition(e,i,t),e="[LABEL test label[VIDEO video][AUDIO audio]]",i="test label",t=this.getTagValue(e,"LABEL"),this.checkCondition(e,i,t),e="[LABEL test]]]]",i="test]]]",t=this.getTagValue(e,"LABEL"),this.checkCondition(e,i,t),e="[LABEL test][VIDEO video]",i="test",t=this.getTagValue(e,"LABEL"),this.checkCondition(e,i,t),e="[LABEL test[AUDIO 1]][VIDEO video]",i="test",t=this.getTagValueLABEL(e),this.checkCondition(e,i,t)},checkCondition:function(e,i,t){i!==t&&(console.log("%c ERROR","background: #FF0000; color: #FFFFFF"),console.log("INPUT:",e),console.log("EXPECTED:",i),console.log("RESULT:",t))}}},Sm4Z:function(e,i,t){e.exports=t.p+"static/media/gl_p1.0dbc1b9.mp4"},Smt9:function(e,i,t){e.exports=t.p+"static/media/sg2.e84b974.mp4"},Vm1E:function(e,i){},X9qF:function(e,i,t){var o={"./alco.mp4":"zlCx","./fridge.mp4":"8N5C","./gl_p1.mp4":"Sm4Z","./gl_p2.mp4":"9naN","./pb2.mp4":"6u/R","./sg.mp4":"E+vs","./sg1.mp4":"Ab/g","./sg16.mp4":"pQv2","./sg2.mp4":"Smt9","./sg3.mp4":"PDp4","./sg4.mp4":"IiMc","./sg5.mp4":"Y1r8","./sg666.mp4":"ZR56","./taxoman.mp4":"6vp8","./voenkomat.mp4":"7WMJ"};function n(e){return t(s(e))}function s(e){var i=o[e];if(!(i+1))throw new Error("Cannot find module '"+e+"'.");return i}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="X9qF"},Y1r8:function(e,i,t){e.exports=t.p+"static/media/sg5.e8242af.mp4"},ZR56:function(e,i,t){e.exports=t.p+"static/media/sg666.7b92b8f.mp4"},b3CK:function(e,i,t){"use strict";var o=t("BO1k"),n=t.n(o),s=t("Xxa5"),a=t.n(s),r=t("exGp"),c=t.n(r),A=t("//Fk"),u=t.n(A),K=t("4fiY");i.a={preloadingCallback:null,CATEGORY_VIDEO:"video",CATEGORY_AUDIO:"audio",CATEGORY_IMAGES:"images",CATEGORY_SCRIPTS:"scripts",CATEGORY_DATA:"data",gameAssets:{},getAssetByName:function(e,i){var t=i;switch(e){case this.CATEGORY_VIDEO:t.indexOf(".")<0&&(t=i+".mp4");break;case this.CATEGORY_AUDIO:t.indexOf(".mp3")<0&&(t=i+".mp3");break;case this.CATEGORY_IMAGES:break;case this.CATEGORY_SCRIPTS:t.indexOf(".qsp")<0&&(t=i+".qsp");break;case this.CATEGORY_DATA:t.indexOf(".json")<0&&(t=i+".json")}var o=e+"/"+t;return this.gameAssets[o]},setPreloadingCallback:function(e){this.preloadingCallback=e},loadAssets:function(){var e=this;return new u.a(function(i,t){e.loadAssetsFromIndexedDB().then(function(t){e.gameAssets=t,i(t)}).catch(function(o){e.loadGameAssetsDictionary().then(function(t){e.gameAssets=t,K.a.CACHE_ENABLED&&e.saveAssetsToIndexedDB(),i(t)}).catch(function(e){t(e)})})})},loadAssetsFromIndexedDB:function(){return new u.a(function(e,i){if(K.a.CACHE_ENABLED)if("indexedDB"in window){var t=indexedDB.open(K.a.INDEXEDDB_STORE_NAME,K.a.GAME_VERSION);t.onupgradeneeded=function(e){var i=e.target.result;i.objectStoreNames.contains("gameAssets")&&i.deleteObjectStore("gameAssets"),i.createObjectStore("gameAssets",{keyPath:"id",autoIncrement:!1})},t.onsuccess=function(t){var o=t.target.result.transaction(["gameAssets"],"readwrite"),n=o.objectStore("gameAssets").get(1);n.onsuccess=function(t){var o=t.target.result;o&&o.value?(console.log("Taken gameAssets from IndexedDB v."+K.a.GAME_VERSION,o),e(o.value)):i(new TypeError("No gameAssets record in IndexedDB!"))},n.onerror=function(e){i(new TypeError("No gameAssets record in IndexedDB!"))},o.oncomplete=function(){},o.onerror=function(e){i(new TypeError("Error reading IndexedDB!"))}}}else console.log("This browser doesnt support IndexedDB"),i(new TypeError("This browser doesnt support IndexedDB"));else i(new TypeError("loadAssetsFromIndexedDB: CACHE_ENABLED = false"))})},saveAssetsToIndexedDB:function(){var e=this;return new u.a(function(i,t){if(K.a.CACHE_ENABLED)if("indexedDB"in window){var o=indexedDB.open(K.a.INDEXEDDB_STORE_NAME,K.a.GAME_VERSION);o.onupgradeneeded=function(e){var i=e.target.result;i.objectStoreNames.contains("gameAssets")||i.createObjectStore("gameAssets",{keyPath:"id",autoIncrement:!1})},o.onsuccess=function(o){var n=o.target.result.transaction(["gameAssets"],"readwrite");n.objectStore("gameAssets").put({id:1,value:e.gameAssets}),console.log("Saving loaded assets to IndexedDB v."+K.a.GAME_VERSION),n.oncomplete=function(){console.log("Save success"),i(!0)},n.onerror=function(e){console.log("Save error!"),t(new TypeError("Error saving loaded assets to IndexedDB! v."+K.a.GAME_VERSION))}}}else console.log("This browser doesnt support IndexedDB"),t(new TypeError("This browser doesnt support IndexedDB"));else t(new TypeError("saveAssetsToIndexedDB: CACHE_ENABLED = false"))})},loadGameAssetsDictionary:function(){var e=this;return c()(a.a.mark(function i(){var o,n,s;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o=K.a.CACHE_ENABLED?t("9w6p"):t("RL9R"),n=o.keys().map(function(e){return[e.replace("./",""),o(e)]}),i.next=4,e.processAssetsArray(n);case 4:return s=i.sent,i.abrupt("return",new u.a(function(e,i){e(s)}));case 6:case"end":return i.stop()}},i,e)}))()},processAssetsArray:function(e){var i=this;return c()(a.a.mark(function o(){var s,r,c,A,u,K,d,l,g;return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s={},r=0,c=a.a.mark(function o(n){var c,A;return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return c=n[0],A=t("PvXa")("./"+c),o.next=4,i.fetchLocal(A).then(function(t){t.blob().then(function(t){if(c.indexOf("scripts")>=0||c.indexOf("scenario")>=0){var o=new FileReader;o.addEventListener("loadend",function(t){var o=t.srcElement.result;s[c]=o,r=i.incCounter(r,e.length)}),o.readAsText(t)}else{var n=new FileReader;n.addEventListener("loadend",function(t){var o=t.srcElement.result;s[c]=o,r=i.incCounter(r,e.length)}),n.readAsDataURL(t),s[c]=t}})});case 4:case"end":return o.stop()}},o,i)}),A=!0,u=!1,K=void 0,o.prev=6,d=n()(e);case 8:if(A=(l=d.next()).done){o.next=14;break}return g=l.value,o.delegateYield(c(g),"t0",11);case 11:A=!0,o.next=8;break;case 14:o.next=20;break;case 16:o.prev=16,o.t1=o.catch(6),u=!0,K=o.t1;case 20:o.prev=20,o.prev=21,!A&&d.return&&d.return();case 23:if(o.prev=23,!u){o.next=26;break}throw K;case 26:return o.finish(23);case 27:return o.finish(20);case 28:return o.abrupt("return",s);case 29:case"end":return o.stop()}},o,i,[[6,16,20,28],[21,,23,27]])}))()},incCounter:function(e,i){return e++,this.preloadingCallback&&this.preloadingCallback({current:e,total:i}),e},fetchLocal:function(e,i){return new u.a(function(i,t){var o=new XMLHttpRequest;o.responseType="blob",o.onload=function(){i(new Response(o.response,{status:o.status}))},o.onerror=function(){t(new TypeError("Local request failed"))},o.open("GET",e),o.setRequestHeader("Access-Control-Allow-Origin","*"),o.setRequestHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),o.send(null)})}}},eFts:function(e,i){},fu6K:function(e,i,t){e.exports=t.p+"static/img/donate.eafcce1.png"},g2Y0:function(e,i,t){var o={"./black.jpg":"QFTt","./donate.png":"fu6K","./logo.jpg":"4GjL"};function n(e){return t(s(e))}function s(e){var i=o[e];if(!(i+1))throw new Error("Cannot find module '"+e+"'.");return i}n.keys=function(){return Object.keys(o)},n.resolve=s,e.exports=n,n.id="g2Y0"},jvff:function(e,i,t){e.exports=t.p+"static/media/scenario.bb3e35b.json"},kInz:function(e,i){},nJvg:function(e,i){},nWAT:function(e,i){},pQv2:function(e,i,t){e.exports=t.p+"static/media/sg16.f07021e.mp4"},s347:function(e,i){},sX5c:function(e,i){function t(e){throw new Error("Cannot find module '"+e+"'.")}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id="sX5c"},zlCx:function(e,i,t){e.exports=t.p+"static/media/alco.64ecb8d.mp4"}},["NHnr"]);
//# sourceMappingURL=app.b992fa5ea592bf7fdaa8.js.map